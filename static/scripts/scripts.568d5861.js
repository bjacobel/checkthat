"use strict";angular.module("CheckCMS",["ngAnimate","ngCookies","ngRoute","ngSanitize","ngTouch","restangular"]).config(["$routeProvider",function(a){a.when("/devices",{templateUrl:"views/devices.html",controller:"DevicesCtrl"}).when("/",{templateUrl:"views/devices.html",controller:"DevicesCtrl"}).when("/users",{templateUrl:"views/users.html",controller:"UsersCtrl"}).otherwise({redirectTo:"/"})}]).config(["RestangularProvider",function(a){a.setBaseUrl("http://checkthat.herokuapp.com/api/v1/")}]),angular.module("CheckCMS").controller("UsersCtrl",["UsersService","$scope",function(a,b){b.page="users",a.getUserList(function(a){b.users=a})}]),angular.module("CheckCMS").controller("DevicesCtrl",["DevicesService","$scope",function(a,b){b.page="devices",a.getDeviceList(function(a){b.devices=a.CheckedOut.concat(a.CheckedIn),b.devices.map(function(b){return-1!==a.CheckedOut.indexOf(b)?b.status="out":-1!==a.CheckedIn.indexOf(b)&&(b.status="in"),b})})}]),angular.module("CheckCMS").factory("UsersService",["Restangular",function(a){return{getUserList:function(b){a.all("users").getList().then(function(a){b(a)})},getUser:function(b,c){a.one("users",b).get().then(function(a){c(a)})}}}]),angular.module("CheckCMS").factory("DevicesService",["Restangular",function(a){return{getDeviceList:function(b){a.one("devices").get().then(function(a){b(a)})},getDevice:function(b,c){a.one("devices",b).get().then(function(a){c(a)})}}}]);